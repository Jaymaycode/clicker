import tkinter as tk

root = tk.Tk()
root.title("The Box")

# Initial score and upgrade variables
score = 0
score_per_click = 1
upgrade_cost = 10
auto_increment_cost = 50
auto_increment_active = False
auto_increment_amount = 0.1
auto_increment_speed = 1000  # in milliseconds
speed_upgrade_cost = 30
amount_upgrade_cost = 40
reset_cost = 100
reset_count = 0
base_increment_amount = 0.1  # Base amount for auto-increment

# Function to update score
def update_score(amount=1):
    global score
    score += amount
    rounded_score = round(score)
    score_label.config(text="Score: " + str(rounded_score))

# Auto-increment function
def auto_increment():
    global auto_increment_speed
    if auto_increment_active:
        update_score(auto_increment_amount)
        root.after(auto_increment_speed, auto_increment)

# Function to purchase click upgrade
def purchase_click_upgrade():
    global score, score_per_click, upgrade_cost
    if score >= upgrade_cost:
        score -= upgrade_cost
        score_per_click += 1
        upgrade_cost *= 2
        upgrade_button.config(text=f"Upgrade Click (Cost: {upgrade_cost})")
        score_label.config(text="Score: " + str(score))

# Function to purchase auto-increment upgrade
def purchase_auto_increment():
    global score, auto_increment_active
    if score >= auto_increment_cost and not auto_increment_active:
        score -= auto_increment_cost
        auto_increment_active = True
        auto_increment_button.config(text="Auto-Increment Active", state=tk.DISABLED)
        auto_increment()

# Function to upgrade auto-increment speed
def upgrade_speed():
    global score, auto_increment_speed, speed_upgrade_cost
    if score >= speed_upgrade_cost and auto_increment_speed > 100:
        score -= speed_upgrade_cost
        auto_increment_speed -= 100  # Decrease interval by 100ms
        speed_upgrade_cost *= 2
        speed_upgrade_button.config(text=f"Upgrade Speed (Cost: {speed_upgrade_cost})")
        score_label.config(text="Score: " + str(score))

# Function to upgrade auto-increment amount
def upgrade_amount():
    global score, auto_increment_amount, amount_upgrade_cost
    if score >= amount_upgrade_cost:
        score -= amount_upgrade_cost
        auto_increment_amount += 0.1  # Increase amount per auto-click
        amount_upgrade_cost *= 2
        amount_upgrade_button.config(text=f"Upgrade Amount (Cost: {amount_upgrade_cost})")
        score_label.config(text="Score: " + str(score))

# Function to reset the game
def reset_game():
    global score, reset_cost, reset_count, auto_increment_amount, auto_increment_active, score_per_click
    if score >= reset_cost:
        # Reset score and all upgrades
        score = 0
        score_per_click = 1
        auto_increment_active = False
        auto_increment_button.config(text="Buy Auto-Increment (Cost: 50)", state=tk.NORMAL)

        # Apply benefits of reset
        reset_cost *= 3
        reset_count += 1
        auto_increment_amount = base_increment_amount * (2 ** reset_count)

        # Update UI
        reset_button.config(text=f"Reset (Cost: {reset_cost})")
        reset_count_label.config(text=f"Resets: {reset_count}")
        update_score(0)

# Clickable box button
box_btn = tk.Button(root, text="ðŸ“¦ Box", command=lambda: update_score(score_per_click))
box_btn.pack()

# Score label
score_label = tk.Label(root, text="Score: 0")
score_label.pack()

# Upgrade click button
upgrade_button = tk.Button(root, text=f"Upgrade Click (Cost: {upgrade_cost})", command=purchase_click_upgrade)
upgrade_button.pack()

# Auto-increment button
auto_increment_button = tk.Button(root, text=f"Buy Auto-Increment (Cost: 50)", command=purchase_auto_increment)
auto_increment_button.pack()

# Upgrade auto-increment speed button
speed_upgrade_button = tk.Button(root, text=f"Upgrade Speed (Cost: {speed_upgrade_cost})", command=upgrade_speed)
speed_upgrade_button.pack()

# Upgrade auto-increment amount button
amount_upgrade_button = tk.Button(root, text=f"Upgrade Amount (Cost: {amount_upgrade_cost})", command=upgrade_amount)
amount_upgrade_button.pack()

# Reset button
reset_button = tk.Button(root, text=f"Reset (Cost: {reset_cost})", command=reset_game)
reset_button.pack()

# Reset count label
reset_count_label = tk.Label(root, text="Resets: 0")
reset_count_label.pack()

root.mainloop()
